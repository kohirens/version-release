description: >
  Commit changes to the changelog and merge into a remote branch (default is main).
usage:
  version: 2.1

  orbs:
    vro: kohirens/version-release@latest

  parameters:
    ssh_finger:
      description: SSH fingerprint.
      type: string
      default: "aa:bb:cc:dd:12:34:56"
    triggered_by_bot:
      description: Trigger publishing a release tag workflow.
      type: boolean
      default: false

  workflows:
    version: 2
    publish-changelog:
      when:
        and:
          - equal: [main, << pipeline.git.branch >>]
          - equal: [webhook, << pipeline.trigger_source >>]
      jobs:
        - vro/publish-changelog:
            context: orb-publishing
            ssh_finger: << pipeline.parameters.ssh_finger >>
